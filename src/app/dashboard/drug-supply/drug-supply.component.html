<div class="drug-supply-container">
  <h1>Gestion de l'offre de drogues</h1>

  <!-- Table Section -->
  <div class="table-section card">
    <div class="table-header">
      <h2>Donn√©es saisies</h2>
      <button class="btn-primary" (click)="showForm = !showForm">
        {{ showForm ? 'Annuler' : 'Nouvelle saisie' }}
      </button>
    </div>

    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Cannabis (kg)</th>
            <th>Comprim√©s Tableau A</th>
            <th>Ecstasy (comprim√©)</th>
            <th>Ecstasy (poudre)</th>
            <th>Subutex</th>
            <th>Coca√Øne (g)</th>
            <th>H√©ro√Øne (g)</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let entry of drugSupplyData">
            <td>{{ entry.date | date:'dd/MM/yyyy' }}</td>
            <td>{{ entry.cannabis }}</td>
            <td>{{ entry.tableauA }}</td>
            <td>{{ entry.ecstasyPills }}</td>
            <td>{{ entry.ecstasyPowder }}</td>
            <td>{{ entry.subutex }}</td>
            <td>{{ entry.cocaine }}</td>
            <td>{{ entry.heroin }}</td>
            <td class="actions">
              <button class="btn-icon edit" (click)="editEntry(entry)">‚úèÔ∏è</button>
              <button class="btn-icon delete" (click)="deleteEntry(entry.id)">üóëÔ∏è</button>
            </td>
          </tr>
          <tr *ngIf="drugSupplyData.length === 0">
            <td colspan="9" class="no-data">Aucune donn√©e disponible</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Form Section -->
  <form *ngIf="showForm" [formGroup]="seizureForm" class="form-section card" (ngSubmit)="onSubmit()">
    <h2>{{ editMode ? 'Modifier la saisie' : 'Nouvelle saisie' }}</h2>
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Nature de la substance saisie</th>
            <th>Quantit√© saisie</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Cannabis (kg)</td>
            <td>
              <input type="number" formControlName="cannabis" class="form-control">
            </td>
          </tr>
          <tr>
            <td>Comprim√©s Tableau A</td>
            <td>
              <input type="number" formControlName="tableauA" class="form-control">
            </td>
          </tr>
          <tr>
            <td>Ecstasy (comprim√©)</td>
            <td>
              <input type="number" formControlName="ecstasyPills" class="form-control">
            </td>
          </tr>
          <tr>
            <td>Ecstasy (poudre ; en g)</td>
            <td>
              <input type="number" formControlName="ecstasyPowder" class="form-control">
            </td>
          </tr>
          <tr>
            <td>Subutex (comprim√©)</td>
            <td>
              <input type="number" formControlName="subutex" class="form-control">
            </td>
          </tr>
          <tr>
            <td>Coca√Øne (g)</td>
            <td>
              <input type="number" formControlName="cocaine" class="form-control">
            </td>
          </tr>
          <tr>
            <td>H√©ro√Øne (g)</td>
            <td>
              <input type="number" formControlName="heroin" class="form-control">
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn-primary">{{ editMode ? 'Mettre √† jour' : 'Enregistrer' }}</button>
      <button type="button" class="btn-secondary" (click)="showForm = false">Annuler</button>
    </div>
  </form>
</div>